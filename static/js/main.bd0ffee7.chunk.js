(this.webpackJsonpskaudvile=this.webpackJsonpskaudvile||[]).push([[0],{27:function(e,t,i){},36:function(e,t,i){"use strict";i.r(t);var a=i(2),n=i(5),s=i.n(n),o=i(11),c=i.n(o),r=(i(27),i(1)),d=i(6),u=i(3),l=i(4),m=i.p+"static/media/1_Ivadas.746433d4.mp3",p=i.p+"static/media/2_Kalniskiu piliakalnis.86e524c5.mp3",b=i.p+"static/media/3_Pirmasis Ivangenu piliakalnis.f59192bc.mp3",h=i.p+"static/media/4_Antras Ivangenu piliakalnis.1f422cab.mp3",j=i.p+"static/media/8_Legenda apie karsuvos pili.dda7beba.mp3",f=i.p+"static/media/5_Nosaiciu piliakalnis.7804b405.mp3",v=i.p+"static/media/6_Juskaiciu piliakalnis.c02ce6b8.mp3",g=i.p+"static/media/7_Grafikos darbu paroda.a60b8d3a.mp3",x=i.p+"static/media/01 Tamsioj Naktel\u0117j - In The Dark Night.02c936e4.mp3",O=i.p+"static/media/07 Tu Eglute - Oh, the Spruce Tree.4443bf92.mp3",y=i.p+"static/media/09 Oi Tu Ieva, Ievu\u017ee - Oh, the Bird Cherry.46be4060.mp3",k=i.p+"static/media/10 Per Tilt\u0105 Jojau - I Was Riding Through the Bridge.f111fba4.mp3",I=[[p],[b,h,j],[f],[v],[g]],N=[x,O,y,k],C=[8,7,6,5,4,3,2,1],w=[[["Kalni\u0161ki\u0173 piliakalnis","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt ea cupiditate magnam. Numquam tenetur ullam iusto officiis, repellendus quo sequi!"]],[["Ivang\u0117n\u0173 I piliakalnis","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt ea cupiditate magnam. Numquam tenetur ullam iusto officiis, repellendus quo sequi!",0],["Ivang\u0117n\u0173 II piliakalnis","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt ea cupiditate magnam. Numquam tenetur ullam iusto officiis, repellendus quo sequi!",1],["Kar\u0161uvos pilis","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt ea cupiditate magnam. Numquam tenetur ullam iusto officiis, repellendus quo sequi!"]],[["Nosai\u010di\u0173 piliakalnis","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt ea cupiditate magnam. Numquam tenetur ullam iusto officiis, repellendus quo sequi!",2]],[["Ju\u0161kai\u010di\u0173 piliakalnis","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt ea cupiditate magnam. Numquam tenetur ullam iusto officiis, repellendus quo sequi!",3]],[["Galerija","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nesciunt ea cupiditate magnam. Numquam tenetur ullam iusto officiis, repellendus quo sequi!"]]],T=function(e){Object(u.a)(i,e);var t=Object(l.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e)).startMapAnimation=function(){a.setState({mapAnimationStarted:!0}),a.audioIntroRef.current.play()},a.mapIconClicked=function(e,t,i){var n=a.state.categoriesWindowOpen;1===t||void 0===t?(a.setState({categoriesWindowOpen:!n}),void 0!==e?a.setState({mapIconClickedIndex:e,subcategoryClickedIndex:0}):a.setState({categoryType:"about"})):t>1&&!a.state.subcategoriesWindowOpen?a.setState({mapIconClickedIndex:e,subcategoriesWindowOpen:!0}):a.state.subcategoriesWindowOpen&&a.setState({categoriesWindowOpen:!0,subcategoriesWindowOpen:!1,subcategoryClickedIndex:e}),a.setState({tourAudioIndex:i}),a.audioAboutRefs[a.state.mapIconClickedIndex].pause(),a.audioAboutRefs[a.state.mapIconClickedIndex].currentTime=0},a.categoryButtonClicked=function(e){a.setState({categoryType:e}),"about"!==e&&a.audioAboutRefs[a.state.mapIconClickedIndex].pause()},a.audioAboutClicked=function(){var e=a.state.audioAboutPlaying;a.setState({audioAboutPlaying:!e}),e?a.audioAboutRefs[a.state.mapIconClickedIndex].pause():a.audioAboutRefs[a.state.mapIconClickedIndex].play()},a.audioTourButtonClicked=function(){var e=a.state.audioTourPlaying;a.setState({audioTourPlaying:!e}),e?a.audioTourRefs[a.state.tourAudioIndex].pause():a.audioTourRefs[a.state.tourAudioIndex].play()},a.enterVirtualTourClicked=function(){console.log(a.state.tourAudioIndex);var e=a.state.virtualTourOpen;e?(document.webkitExitFullscreen(),a.audioTourRefs[a.state.tourAudioIndex].pause(),a.audioTourRefs[a.state.tourAudioIndex].currentTime=0):(a.iframeRef.current.requestFullscreen(),a.audioTourRefs[a.state.tourAudioIndex].play()),a.setState({virtualTourOpen:!e})},a.state={mapAnimationStarted:!0,categoriesWindowOpen:!1,mapIconClickedIndex:0,categoryType:"about",virtualTourOpen:!1,audioAboutPlaying:!1,audioTourPlaying:!0,subcategoriesWindowOpen:!1,subcategoryClickedIndex:0,tourAudioIndex:0},a.audioAboutRefs={},a.audioTourRefs={},a.audioIntroRef=s.a.createRef(),a.iframeRef=s.a.createRef(),a}return Object(d.a)(i,[{key:"render",value:function(){var e=this,t="about"===this.state.categoryType?"active-category-button":"",i="tour"===this.state.categoryType?"active-category-button":"",n="gallery"===this.state.categoryType?"active-category-button":"";return Object(a.jsxs)("div",{className:"interactive-map-container",children:[Object(a.jsxs)("div",{className:"about-project-container",children:[Object(a.jsx)("div",{className:"title",children:"Zemelapis"}),Object(a.jsx)("div",{className:"description",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit harum, voluptatibus blanditiis adipisci enim quaerat at neque officia tenetur nemo placeat molestiae, fugit est molestias porro. Iure non vitae aliquid?"})]}),Object(a.jsxs)("div",{className:"interactive-map-images",children:[Object(a.jsx)("div",{className:"image-carousel",children:C.map((function(t,i){return Object(a.jsx)("div",{className:"image",style:{zIndex:t,animationDelay:"".concat(i,"s"),animationPlayState:e.state.mapAnimationStarted?"running":"paused",backgroundImage:'url("./images/map/'.concat(t,'.jpg")')}},i)}))}),Object(a.jsx)("div",{className:"active-icons-container",style:{opacity:this.state.mapAnimationStarted?1:0,transitionDelay:"5s"},children:w.map((function(t,i){var n,s=t.length;return n=void 0!==t[0][2]?t[0][2]:0,Object(a.jsxs)("div",{className:"icon-container",onClick:function(){return e.mapIconClicked(i,s,n)},children:[Object(a.jsx)("div",{className:"icon-glow icon"}),Object(a.jsx)("div",{className:"icon-image icon"}),Object(a.jsx)("audio",{ref:function(t){e.audioAboutRefs[i]=t},children:Object(a.jsx)("source",{src:I[i][e.state.subcategoryClickedIndex]})})]},i)}))})]}),Object(a.jsx)("div",{className:"overlay-start-container",style:{display:this.state.mapAnimationStarted?"none":"flex"},children:Object(a.jsx)("div",{className:"btn btn-start",onClick:function(){e.startMapAnimation()},children:"Prad\u0117ti tur\u0105"})}),Object(a.jsxs)("div",{className:"categories-window-container",style:{display:this.state.categoriesWindowOpen?"flex":"none"},children:[Object(a.jsxs)("div",{className:"buttons-container",children:[Object(a.jsxs)("div",{className:"category-buttons",children:[Object(a.jsx)("div",{className:"btn btn-about ".concat(t),onClick:function(){e.categoryButtonClicked("about")},children:"Apie"}),0!==this.state.mapIconClickedIndex&&4!==this.state.mapIconClickedIndex?Object(a.jsx)("div",{className:"btn btn-tour ".concat(i),onClick:function(){e.categoryButtonClicked("tour")},children:"360 turas"}):"",Object(a.jsx)("div",{className:"btn btn-gallery ".concat(n),onClick:function(){e.categoryButtonClicked("gallery")},children:"Galerija"})]}),Object(a.jsx)("div",{className:"btn btn-close",onClick:function(){return e.mapIconClicked()},children:"X"})]}),Object(a.jsxs)("div",{className:"container-about",style:{display:"about"===this.state.categoryType?"flex":"none"},children:[Object(a.jsx)("div",{className:"title",children:w[this.state.mapIconClickedIndex][this.state.subcategoryClickedIndex][0]}),Object(a.jsx)("div",{className:"description",children:w[this.state.mapIconClickedIndex][this.state.subcategoryClickedIndex][1]}),Object(a.jsx)("div",{className:"btn btn-audio",onClick:function(){e.audioAboutClicked()},children:"Audio"})]}),Object(a.jsxs)("div",{className:"container-tour",style:{display:"tour"===this.state.categoryType?"flex":"none"},children:[Object(a.jsx)("p",{children:"J\u016bs einate \u012f"}),Object(a.jsx)("p",{children:"360\xb0 virtual\u0173 tur\u0105"}),Object(a.jsx)("div",{className:"btn btn-start",onClick:function(){e.enterVirtualTourClicked()},children:"Prad\u0117ti"})]})]}),Object(a.jsx)("div",{className:"subcategories-window-buttons",style:{display:this.state.subcategoriesWindowOpen?"flex":"none"},children:Object(a.jsx)("div",{className:"selection-buttons",children:w[1].map((function(t,i){var n;return n=void 0!==t[2]?t[2]:0,Object(a.jsx)("div",{className:"btn btn-subcategory",onClick:function(){return e.mapIconClicked(i,2,n)},children:t[0]},i)}))})}),Object(a.jsxs)("div",{className:"tour-window-container",style:{display:this.state.virtualTourOpen?"flex":"none"},ref:this.iframeRef,allowFullScreen:!0,children:[Object(a.jsx)("iframe",{src:"http://panorama.seduvoskultura.lt/#media-name=Seduva_2_1",title:"virtual tour",frameBorder:"0",allowFullScreen:!0},"iframe".concat(this.state.containerType)),Object(a.jsx)("audio",{ref:function(t){e.audioTourRefs[e.state.tourAudioIndex]=t},children:Object(a.jsx)("source",{src:N[this.state.tourAudioIndex]})},this.state.tourAudioIndex),Object(a.jsx)("div",{className:"btn btn-close",onClick:function(){e.enterVirtualTourClicked()},children:Object(a.jsx)("div",{className:"icon"})}),Object(a.jsx)("div",{className:"btn btn-audio",onClick:function(){e.audioTourButtonClicked()},children:this.state.audioTourPlaying?Object(a.jsx)("div",{className:"icon icon-audio-on"}):Object(a.jsx)("div",{className:"icon icon-audio-off"})})]}),Object(a.jsx)("div",{className:"grey-overlay",style:{display:this.state.categoriesWindowOpen||this.state.subcategoriesWindowOpen?"flex":"none"}}),Object(a.jsx)("div",{className:"audio-container",children:Object(a.jsx)("audio",{ref:this.audioIntroRef,children:Object(a.jsx)("source",{src:m})})})]})}}]),i}(n.Component),A=i(0),S=i(18),L=i(12),q=i(21),R=i.n(q),W=[[[0,0,0],[0,0,0],[1.1,1.1,1.1]]],M=function(e){Object(u.a)(i,e);var t=Object(l.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e)).start=function(){a.frameId||(a.frameId=requestAnimationFrame(a.animate))},a.stop=function(){cancelAnimationFrame(a.frameId)},a.animate=function(){a.model&&(a.model.rotation.y+=.001),a.renderScene(),a.frameId=window.requestAnimationFrame(a.animate)},a.renderScene=function(){a.renderer&&a.renderer.render(a.scene,a.camera)},a.state={modelLoading:!1},a}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.scene=new A.Scene({alpha:!0}),this.renderer=new A.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(e,t),this.mount.appendChild(this.renderer.domElement),this.addCamera(e,t),this.addLights(),this.addModels(),this.renderScene(),this.start()}},{key:"setModelTransforms",value:function(){var e=this.model;[e.position,e.rotation,e.scale].map((function(e,t){return e.x=W[0][t][0],e.y=W[0][t][1],e.z=W[0][t][2],null}))}},{key:"addCamera",value:function(e,t){this.camera=new A.PerspectiveCamera(50,e/t,.1,1e3),this.camera.position.z=20,this.camera.position.y=0,new R.a(this.camera,this.renderer.domElement).rotateSpeed=.3}},{key:"addLights",value:function(){var e=[];e[0]=new A.AmbientLight("white",1,0),this.scene.add(e[0])}},{key:"addModels",value:function(){var e,t=this;e="./models/sphere.glb";var i=new A.LoadingManager;i.onStart=function(){t.props.setModelLoaded(!1)},i.onLoad=function(){t.props.setModelLoaded(!0)},i.onProgress=function(){},this.loader=new S.a,this.loader.load(e,(function(e){t.model=e.scene,t.setModelTransforms();var a=new A.TextureLoader(i).load("./textures/panorama01.jpg");a.wrapS=A.RepeatWrapping,a.flipY=!1;var n=new A.MeshStandardMaterial({roughness:.7,map:a});n.side=A.DoubleSide,t.model.traverse((function(e){e.isMesh&&(e.material=n)})),t.scene.add(t.model)}),(function(e){}),(function(e){}))}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"model-view-container",ref:function(t){e.mount=t},children:Object(a.jsxs)("div",{className:"loading-screen",style:{display:this.props.modelLoaded?"none":"flex"},children:[Object(a.jsx)("div",{className:"text",children:"Kraunama..."}),Object(a.jsx)("div",{className:"icon"})]})},this.props.virtualTourOpen)}}]),i}(n.Component),P={setModelLoaded:function(e){return{type:"SET_MODEL_LOADED",payload:e}}};Object(L.b)((function(e){return{modelLoaded:e.setModelLoaded.modelLoaded}}),P)(M);var _=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("div",{className:"overflow-wrapper",children:Object(a.jsx)("div",{className:"website-wrapper",children:Object(a.jsx)(T,{})})})})},B=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,37)).then((function(t){var i=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;i(e),a(e),n(e),s(e),o(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=i(10),E=i(17),F={modelLoaded:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODEL_LOADED":return Object(E.a)(Object(E.a)({},e),{},{modelLoaded:t.payload});default:return e}},z=Object(D.b)({setModelLoaded:J}),G=Object(D.c)(z);c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(L.a,{store:G,children:Object(a.jsx)(_,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),B()}},[[36,1,2]]]);
//# sourceMappingURL=main.bd0ffee7.chunk.js.map